<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RBAC Login - Cybersecurity Demo</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <!-- Toast notification container -->
    <div id="toast-container"></div>

    <!-- Homepage -->
    <div class="homepage-container" id="homePage">
        <!-- Navigation Bar -->
        <nav class="homepage-navbar">
            <div class="nav-brand">
                <i class="fas fa-shield-alt"></i>
                <span>SecureFlow RBAC</span>
            </div>
            <div class="nav-actions">
                <button class="dark-mode-toggle" id="darkModeToggle">
                    <i class="fas fa-moon"></i>
                </button>
                <button class="btn btn-outline" onclick="showLoginPage()">Login</button>
                <button class="btn btn-primary" onclick="showRegisterPage()">Get Started</button>
            </div>
        </nav>

        <!-- Hero Section -->
        <section class="hero-section">
            <div class="hero-content">
                <div class="hero-text">
                    <h1 class="hero-title">
                        Secure Employee Management with 
                        <span class="gradient-text">Role-Based Access Control</span>
                    </h1>
                    <p class="hero-subtitle">
                        Streamline your organization with intelligent access management. 
                        Control who sees what, when they see it, and how they interact with your system.
                    </p>
                    <div class="hero-buttons">
                        <button class="btn btn-primary btn-large" onclick="showRegisterPage()">
                            <i class="fas fa-rocket"></i>
                            Start Free Trial
                        </button>
                        <button class="btn btn-outline btn-large" onclick="showLoginPage()">
                            <i class="fas fa-sign-in-alt"></i>
                            Sign In
                        </button>
                    </div>
                </div>
                <div class="hero-visual">
                    <div class="security-graphic">
                        <i class="fas fa-shield-alt"></i>
                        <div class="security-rings">
                            <div class="ring ring-1"></div>
                            <div class="ring ring-2"></div>
                            <div class="ring ring-3"></div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Features Section -->
        <section class="features-section">
            <div class="container">
                <div class="section-header">
                    <h2>Why Choose SecureFlow RBAC?</h2>
                    <p>Powerful features designed for modern organizations</p>
                </div>
                
                <div class="features-grid">
                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-users-cog"></i>
                        </div>
                        <h3>Role-Based Access Control</h3>
                        <p>Define roles (Admin, Manager, Employee) with specific permissions and automatically enforce access rules across your system.</p>
                        <div class="feature-badge">Core Feature</div>
                    </div>
                    
                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-user-plus"></i>
                        </div>
                        <h3>User Enrollment & Management</h3>
                        <p>Streamlined user registration, profile management, and automated role assignment with approval workflows.</p>
                        <div class="feature-badge">Essential</div>
                    </div>
                    
                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-chart-line"></i>
                        </div>
                        <h3>Real-time Data Tracking</h3>
                        <p>Monitor user activities, track system usage, and generate comprehensive reports for compliance and insights.</p>
                        <div class="feature-badge">Analytics</div>
                    </div>
                    
                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-calendar-check"></i>
                        </div>
                        <h3>Leave Management</h3>
                        <p>Automated leave request system with role-based approval workflows and calendar integration.</p>
                        <div class="feature-badge">Workflow</div>
                    </div>
                    
                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-lock"></i>
                        </div>
                        <h3>Security & Compliance</h3>
                        <p>Built-in security features, audit logs, and compliance reporting to meet industry standards.</p>
                        <div class="feature-badge">Security</div>
                    </div>
                    
                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-mobile-alt"></i>
                        </div>
                        <h3>Mobile Responsive</h3>
                        <p>Access your system from any device with a fully responsive design that works on desktop, tablet, and mobile.</p>
                        <div class="feature-badge">Design</div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Role Demo Section -->
        <section class="role-demo-section">
            <div class="container">
                <div class="section-header">
                    <h2>Experience Different Role Perspectives</h2>
                    <p>See how the system adapts to different user roles</p>
                </div>
                
                <div class="role-cards">
                    <div class="role-card admin-role">
                        <div class="role-header">
                            <i class="fas fa-crown"></i>
                            <h3>Administrator</h3>
                        </div>
                        <div class="role-features">
                            <div class="role-feature">
                                <i class="fas fa-check"></i>
                                <span>Full system access</span>
                            </div>
                            <div class="role-feature">
                                <i class="fas fa-check"></i>
                                <span>User management</span>
                            </div>
                            <div class="role-feature">
                                <i class="fas fa-check"></i>
                                <span>System configuration</span>
                            </div>
                            <div class="role-feature">
                                <i class="fas fa-check"></i>
                                <span>Advanced reporting</span>
                            </div>
                        </div>
                        <button class="btn btn-role-demo" onclick="demoLogin('admin')">
                            Try Admin Demo
                        </button>
                    </div>
                    
                    <div class="role-card manager-role">
                        <div class="role-header">
                            <i class="fas fa-users-cog"></i>
                            <h3>Manager</h3>
                        </div>
                        <div class="role-features">
                            <div class="role-feature">
                                <i class="fas fa-check"></i>
                                <span>Team management</span>
                            </div>
                            <div class="role-feature">
                                <i class="fas fa-check"></i>
                                <span>Approve requests</span>
                            </div>
                            <div class="role-feature">
                                <i class="fas fa-check"></i>
                                <span>Team reports</span>
                            </div>
                            <div class="role-feature">
                                <i class="fas fa-check"></i>
                                <span>Performance tracking</span>
                            </div>
                        </div>
                        <button class="btn btn-role-demo" onclick="demoLogin('manager')">
                            Try Manager Demo
                        </button>
                    </div>
                    
                    <div class="role-card employee-role">
                        <div class="role-header">
                            <i class="fas fa-user"></i>
                            <h3>Employee</h3>
                        </div>
                        <div class="role-features">
                            <div class="role-feature">
                                <i class="fas fa-check"></i>
                                <span>Profile management</span>
                            </div>
                            <div class="role-feature">
                                <i class="fas fa-check"></i>
                                <span>Submit requests</span>
                            </div>
                            <div class="role-feature">
                                <i class="fas fa-check"></i>
                                <span>View schedules</span>
                            </div>
                            <div class="role-feature">
                                <i class="fas fa-check"></i>
                                <span>Personal dashboard</span>
                            </div>
                        </div>
                        <button class="btn btn-role-demo" onclick="demoLogin('employee')">
                            Try Employee Demo
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Footer -->
        <footer class="homepage-footer">
            <div class="container">
                <div class="footer-content">
                    <div class="footer-brand">
                        <i class="fas fa-shield-alt"></i>
                        <span>SecureFlow RBAC</span>
                    </div>
                    <div class="footer-text">
                        <p>© 2025 SecureFlow RBAC - Cybersecurity Demo Project</p>
                        <p>Built with modern web technologies for educational purposes</p>
                    </div>
                </div>
            </div>
        </footer>
    </div>

    <!-- Registration Page -->
    <div class="register-container" id="registerPage" style="display: none;">
        <div class="register-card">
            <div class="register-header">
                <div class="logo">
                    <i class="fas fa-shield-alt"></i>
                    <h1>Create Account</h1>
                </div>
                <p class="subtitle">Join SecureFlow RBAC System</p>
                <button class="back-to-home" onclick="showHomePage()">
                    <i class="fas fa-arrow-left"></i>
                    Back to Home
                </button>
            </div>

            <form class="register-form" id="registerForm">
                <div class="form-row">
                    <div class="form-group">
                        <label for="firstName">First Name</label>
                        <input type="text" id="firstName" name="firstName" placeholder="Enter first name" required>
                    </div>
                    <div class="form-group">
                        <label for="lastName">Last Name</label>
                        <input type="text" id="lastName" name="lastName" placeholder="Enter last name" required>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="registerEmail">Email Address</label>
                    <input type="email" id="registerEmail" name="email" placeholder="Enter your email" required>
                </div>
                
                <div class="form-group">
                    <label for="registerPassword">Password</label>
                    <input type="password" id="registerPassword" name="password" placeholder="Create a password" required>
                    <div class="password-strength-visual">
                        <div class="strength-meter-bar">
                            <div class="strength-meter-fill" id="strengthMeterFill"></div>
                        </div>
                        <div class="strength-text" id="strengthText">Password strength: Weak</div>
                    </div>
                    <div class="form-group">
                        <label for="confirmPassword">Confirm Password</label>
                        <input type="password" id="confirmPassword" name="confirmPassword" placeholder="Confirm your password" required>
                    </div>
                </div>
                
                
                <div class="form-group">
                    <label for="department">Department</label>
                    <select id="department" name="department" required>
                        <option value="">Select Department</option>
                        <option value="IT">Information Technology</option>
                        <option value="HR">Human Resources</option>
                        <option value="Finance">Finance</option>
                        <option value="Marketing">Marketing</option>
                        <option value="Operations">Operations</option>
                    </select>
                </div>

                <button type="submit" class="register-btn">
                    <i class="fas fa-user-plus"></i>
                    Create Account
                </button>
            </form>

            <div class="login-link">
                <p>Already have an account? <a href="#" onclick="showLoginPage()">Sign In</a></p>
            </div>
        </div>
    </div>

    <!-- Login Page -->
    <div class="login-container" id="loginPage" style="display: none;">
        <div class="login-card">
            <div class="login-header">
                <div class="logo">
                    <i class="fas fa-shield-alt"></i>
                    <h1>Welcome Back</h1>
                </div>
                <p class="subtitle">Sign in to SecureFlow RBAC System</p>
                <button class="back-to-home" onclick="showHomePage()">
                    <i class="fas fa-arrow-left"></i>
                    Back to Home
                </button>
            </div>

            <form class="login-form" id="loginForm">
                <div class="form-group">
                    <label for="email">Email Address</label>
                    <div class="input-wrapper">
                        <i class="fas fa-envelope"></i>
                        <input type="email" id="email" name="email" placeholder="Enter your email" required>
                    </div>
                </div>

                <div class="form-group">
                    <label for="password">Password</label>
                    <div class="input-wrapper">
                        <i class="fas fa-lock"></i>
                        <input type="password" id="password" name="password" placeholder="Enter your password" required>
                        <i class="fas fa-eye toggle-password" id="togglePassword"></i>
                    </div>
                </div>

                <button type="submit" class="login-btn">
                    <i class="fas fa-sign-in-alt"></i>
                    Sign In
                </button>
            </form>

            <div class="divider">
                <span>Or try demo accounts</span>
            </div>

            <div class="demo-accounts">
                <button class="demo-btn admin-demo" data-role="admin">
                    <i class="fas fa-crown"></i>
                    <div>
                        <strong>Admin Demo</strong>
                        <small>admin@company.com</small>
                    </div>
                </button>
                <button class="demo-btn manager-demo" data-role="manager">
                    <i class="fas fa-users-cog"></i>
                    <div>
                        <strong>Manager Demo</strong>
                        <small>manager@company.com</small>
                    </div>
                </button>
                <button class="demo-btn employee-demo" data-role="employee">
                    <i class="fas fa-user"></i>
                    <div>
                        <strong>Employee Demo</strong>
                        <small>employee@company.com</small>
                    </div>
                </button>
            </div>

            <div class="register-link">
                <p>Don't have an account? <a href="#" onclick="showRegisterPage()">Create Account</a></p>
            </div>

            <div class="login-footer">
                <p>© 2025 SecureFlow RBAC - Cybersecurity Project</p>
            </div>
        </div>
    </div>

    <!-- Dashboard Page -->
    <div class="dashboard-container" id="dashboardPage" style="display: none;">
        <!-- Navigation Bar -->
        <nav class="navbar">
            <div class="nav-brand">
                <i class="fas fa-shield-alt"></i>
                <span>SecureFlow RBAC</span>
            </div>
            <div class="nav-links" id="navLinks">
                <!-- Dynamic navigation based on role -->
            </div>
            <div class="nav-user">
                <button class="dark-mode-toggle" id="dashboardDarkToggle">
                    <i class="fas fa-moon"></i>
                </button>
                <div class="user-info">
                    <div class="user-avatar" id="userAvatar">
                        <i class="fas fa-user"></i>
                    </div>
                    <div class="user-details">
                        <span class="user-name" id="userName">User Name</span>
                        <span class="user-role" id="userRole">Role</span>
                    </div>
                </div>
                <button class="logout-btn" id="logoutBtn">
                    <i class="fas fa-sign-out-alt"></i>
                    Logout
                </button>
            </div>
        </nav>

        <!-- Main Content Area -->
        <main class="main-content">
            <div class="content-header">
                <h1 id="dashboardTitle">Dashboard</h1>
                <p id="dashboardSubtitle">Welcome to your personalized dashboard</p>
            </div>

            <!-- Dashboard Content (Dynamic based on role) -->
            <div class="dashboard-content" id="dashboardContent">
                <!-- Content will be populated by JavaScript -->
            </div>
        </main>
    </div>

    <!-- Access Denied Modal -->
    <div class="modal-overlay" id="accessDeniedModal" style="display: none;">
        <div class="modal">
            <div class="modal-header">
                <i class="fas fa-exclamation-triangle"></i>
                <h3>Access Denied</h3>
            </div>
            <div class="modal-body">
                <p>You don't have permission to access this feature.</p>
                <p>Contact your administrator for assistance.</p>
            </div>
            <div class="modal-footer">
                <button class="btn btn-primary" id="closeAccessModal">OK</button>
            </div>
        </div>
    </div>

    <style>
    /* OTP Modal Overlay Styles */
    #otpModal.modal {
        position: fixed;
        top: 0; left: 0; right: 0; bottom: 0;
        width: 100vw; height: 100vh;
        background: rgba(0,0,0,0.35);
        z-index: 9999;
        display: none;
        align-items: center;
        justify-content: center;
        transition: background 0.2s;
    }
    #otpModal.modal[style*="display: flex"] {
        display: flex !important;
    }
    #otpModal .modal-content {
        background: #fff;
        border-radius: 10px;
        box-shadow: 0 8px 32px rgba(0,0,0,0.18);
        padding: 32px 24px 24px 24px;
        min-width: 320px;
        max-width: 350px;
        margin: 0 auto;
        position: relative;
        animation: otpModalIn 0.25s cubic-bezier(.4,1.4,.6,1) both;
    }
    @keyframes otpModalIn {
        0% { transform: translateY(40px) scale(0.98); opacity: 0; }
        100% { transform: none; opacity: 1; }
    }
    #otpModal .close {
        position: absolute;
        top: 12px;
        right: 18px;
        color: #888;
        font-size: 24px;
        cursor: pointer;
        z-index: 2;
    }
    #otpModal input#otpInput {
        border: 1px solid #d1d5db;
        border-radius: 5px;
        font-size: 18px;
        padding: 10px;
        margin-bottom: 12px;
        width: 100%;
        box-sizing: border-box;
        letter-spacing: 4px;
        text-align: center;
        outline: none;
        transition: border 0.2s;
    }
    #otpModal input#otpInput:focus {
        border-color: #4f8cff;
    }
    #otpModal #verifyOtpBtn {
        margin-top: 0;
        margin-bottom: 0;
    }
    #otpModal #otpDemoCode {
        margin-top: 10px;
        font-size: 13px;
        color: #888;
        text-align: center;
        user-select: all;
    }
    #otpModal #otpInfo {
        text-align: center;
        margin-bottom: 14px;
        color: #333;
    }
    </style>
    <script src="script.js"></script>
    <script>
    // Password strength meter logic for registration page
    function updatePasswordStrengthMeter() {
        const password = document.getElementById('registerPassword')?.value || '';
        const strengthMeterFill = document.getElementById('strengthMeterFill');
        const strengthText = document.getElementById('strengthText');
        if (!strengthMeterFill || !strengthText) return;
        let score = 0;
        if (password.length >= 8) score++;
        if (/[A-Z]/.test(password)) score++;
        if (/[0-9]/.test(password)) score++;
        if (/[^A-Za-z0-9]/.test(password)) score++;
        const percent = (score / 4) * 100;
        strengthMeterFill.style.width = percent + '%';
        strengthMeterFill.style.transition = 'width 0.3s, background-color 0.3s';
        let text = 'Very Weak';
        let color = '#e74c3c';
        if (score === 1) { text = 'Weak'; color = '#e67e22'; }
        else if (score === 2) { text = 'Fair'; color = '#f1c40f'; }
        else if (score === 3) { text = 'Good'; color = '#2ecc71'; }
        else if (score === 4) { text = 'Strong'; color = '#27ae60'; }
        strengthText.textContent = `Password strength: ${text}`;
        strengthMeterFill.style.backgroundColor = color;
    }
    document.addEventListener('DOMContentLoaded', function() {
        var passwordInput = document.getElementById('registerPassword');
        if (passwordInput) {
            passwordInput.addEventListener('input', updatePasswordStrengthMeter);
        }
    });
    </script>
</body>
</html>
